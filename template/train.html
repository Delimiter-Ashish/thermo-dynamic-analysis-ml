<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>TheRMO_DynaMIC AnalySIS</title>

    <!-- CSS FILES -->                
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,400;0,700;1,200&family=Unbounded:wght@400;700&display=swap" rel="stylesheet">
    <link href="static/bootstrap.min.css" rel="stylesheet">
    <link href="static/bootstrap-icons.css" rel="stylesheet">
    <link href="static/thermo.css" rel="stylesheet">
</head>

<body>
    <main>
        <header class="site-header">
            <div class="container">
                <div class="row justify-content-between">
                    <div class="col-lg-12 col-12 d-flex align-items-center">
                        <a class="site-header-text d-flex justify-content-center align-items-center me-auto" href="index.html">
                            <i class="bi-box"></i>
                            <span>
                                TheRMO_DynaMIC AnalySIS
                            </span>
                        </a>
                        <div>
                            <a href="login.html" class="custom-btn custom-border-btn btn" data-bs-toggle="modal" data-bs-target="#subscribeModal">CREATORS
                                <i class="bi-arrow-right ms-2"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Modal -->
        <div class="modal fade" id="subscribeModal" tabindex="-1" aria-labelledby="subscribeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <!-- Update the modal title to "About Us" -->
                        <h2 class="modal-title" id="subscribeModalLabel">About Us</h2>
                        <p>We are the Joshi brothers. Welcome to our thermodynamic analysis site! Here, you can find the specific heat capacity (Cp), enthalpy (H), and entropy (S) using temperature and chemical symbols. We provide comprehensive data and tools to assist you in your thermodynamic calculations.</p>
                    </div>
                    <!-- Removed the form and notification button -->
                </div>
            </div>
        </div>

        <section class="hero-section hero-bg-dark d-flex justify-content-center align-items-center">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-md-8 offset-md-2">
                        <h2 class="text-center mb-4 text-light">Train Your CSV Data</h2>
                        <div class="train-button text-center mb-4">
                            <button id="trainButton" class="btn btn-primary btn-lg btn-block">Train Now</button>
                            <div id="loadingAnimation" class="loading-animation" style="display: none;">
                                <img src="static\images\loader.gif" alt="Loading...">
                            </div>
                        </div>
                        <div class="col-12 col-md-8 offset-md-2">
                            <div id="trainingMessage" class="text-center mb-4" style="display: none;">
                                <p>Training complete!</p>
                            </div>
                        </div>
                        <div class="col-12 col-md-8 offset-md-2">
                            <div id="mseMessage" class="text-center mb-4" style="display: none;"></div>
                            <button id="testButton" class="btn btn-success btn-lg btn-block mt-4" style="display: none;">Test</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <p><i class="fa fa-copyright"></i> Copyright 2024 by A_K  
                            | Design: <a href="#" rel="sponsored" target="_parent">A_K</a><br>      
                        </p>
                    </div>
                </div>
            </div>
        </footer>            
    </main>

    <!-- JAVASCRIPT FILES -->
    <script src="static\jquery.min.js"></script>
    <script src="static\bootstrap.bundle.min.js"></script>
    <script src="static\countdown.js"></script>
    <script src="static\init.js"></script>
    <script>
        document.getElementById('trainButton').addEventListener('click', function() {
            // Show loading animation
            document.getElementById('loadingAnimation').style.display = 'block';

            // Simulate training process (replace with actual training logic)
            setTimeout(function() {
                // Hide loading animation
                document.getElementById('loadingAnimation').style.display = 'none';

                // Show training completion message
                document.getElementById('trainingMessage').style.display = 'block';

                // Show test button
                document.getElementById('testButton').style.display = 'block';
            }, 3000); // Simulate 3 seconds of training time
        });

        document.getElementById('testButton').addEventListener('click', function() {
            // Redirect to the testing section of the page
            window.location.href = '#testingSection'; // Replace '#testingSection' with the ID of your testing section
        });
    </script>
    <script>
        $(document).ready(function() {
            $('#trainButton').click(function() {
                $('#loadingAnimation').show();
                $.ajax({
                    url: '/train_model', // URL of the Flask route
                    type: 'POST',
                    success: function(response) {
                        $('#loadingAnimation').hide();
                        $('#trainingMessage').show();
                        $('#mseMessage').text('Mean Squared Error (MSE): Cp - ' + response.mse_cp.toFixed(4) + ', H - ' + response.mse_h.toFixed(4) + ', S - ' + response.mse_s.toFixed(4)).show();
                    },
                    error: function(xhr, status, error) {
                        console.error('Error:', error);
                    }
                });
            });
        });
    </script>    

</body>
</html>
